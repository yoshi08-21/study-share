# StudyShare
**数ある作品の中、当アプリケーションをご覧いただきありがとうございます！**
**StudyShareは大学受験に特化した、情報共有ができるアプリケーションです。**

レビュー・質問・アンケートなど、**疑問の解消**や**参考書選びの助け**となる情報を得ることができる機能を実装しています。

![study-share.com](https://github.com/yoshi08-21/study-share/assets/88389469/3fa356be-f6d1-4d2e-ba65-a84cb56e6f92)


## URL
https://study-share.com/<br>

*ゲストログイン機能を用意しております。ログインページの「ゲストユーザーでログイン」ボタンでご利用いただけます。

## 制作背景

自分が受験生時代に苦労した経験から、同じような境遇で苦しんでいる受験生の助けになれるようなアプリを開発したいと考えました。<br>

勉強をする中でわからないことを質問できる環境は、学習の効率化や理解を深めることに大いに役立ちます。しかし、受験生の中には、気軽に質問をすることができない環境の人もいます。<br>

私自身も自宅で浪人していたため、気軽に質問ができる環境ではありませんでした。勉強をする中でよく分からないことがあったときに、解説を読み返したり調べたりしてもわからないときは、不完全な理解のままにしてしまったこともあります。そのようなときには、気軽に質問ができる環境にいる受験生を非常に羨ましく思いました。<br>

このような経験から、同じような境遇で苦しんでいる受験生の助けになれるようなアプリケーションを作成しました。このアプリケーションを利用する受験生には、レビューを通じて自分に合った参考書を見つけ、質問を通じてわからないことや疑問点を解消して欲しいと考えています。


## 使用技術

### フロントエンド
- HTML/CSS
- JavaScript
- Nuxt.js(2.15.8)   *SPAモードで使用
- Vuetify(2.6.10)
- Cypress(13.0.0)
- ESLint/Prettier
- Google Books API
- Firebase Authentication


### バックエンド
- Ruby(3.0.3)
- Ruby on Rails(6.1.7.6)
- MySQL2(0.5.5)
- Rspec

### インフラ
- AWS(VPC/EC2/RDS/Route53/S3/CloudFront/ACM/SES)
- Nginx
- Unicorn
- GitHub Actions
- Capistrano

### 開発環境
<!-- githubもここに記述 -->
- VScode
- Git/GitHub

## 開発の際に工夫した点

### (1) SPAで開発することによりユーザー体験を向上

Nuxt.jsとRailsを用いたSPAで開発することで、従来のwebアプリケーション（MPA: ページリロード型ウェブアプリケーション）と比較して、高速なページ遷移を実現しました。これにより、ユーザーが無駄な待ち時間なくスムーズにアプリケーションを操作できるようになりました。<br>

また、ユーザー体験を一層豊かにするために、ストレスにならない範囲の適切な長さで、ページ遷移時のトランジションを実装しました。このような細かい視覚的工夫によって、ユーザーがアプリケーションをより快適に、そして楽しく利用できるよう心がけました。


### (2) ユーザー目線に立った、あったら便利だと思う機能の実装

アプリケーションにはメインの機能（レビューや質問の投稿など）以外にも、ユーザー体験を豊かにする補足的な機能を織り交ぜています。具体的には：<br>

１，「ユーザーメモ」を実装し、気になった点を瞬時に保存できるようにしました。これにより、ユーザーは当アプリとメモアプリなどを行き来することなく、スムーズにメモを残すことができます。<br>
２，メニューボタンをヘッダーとページの下部に配置し、どこからでも簡単にコンテンツにアクセスできるよう工夫しました。<br>
３，各コンテンツの詳細ページに「戻る」ボタンを設置し、ページ内でのカーソル移動をスムーズにしました。<br>
４，コンテンツの詳細に「前のコンテンツ」「次のコンテンツ」へのナビゲーションボタンを追加し、連続して情報を得られるようにしました。<br>

これらの機能によって、ユーザーがストレスなく、より効率的にアプリケーションを利用できるよう心掛けました。


### (3) Google Books APIを導入して参考書の重複登録を防止

ユーザーが参考書を登録する際の懸念として「わずかな違いの登録名で同一の参考書が複数登録され、レビューが分散してしまう」という問題がありました。このような状態だと、参考書の正確な評価や人気度が掴みにくくなってしまいます。<br>

この問題に対処するために、Google Books APIを導入して参考書を検索・登録できるようにしました。これにより、同一の参考書が複数登録されてレビューが分散してしまう可能性を減らすことができ、結果として、ユーザーがより正確な参考書の情報を得られる可能性を高めることができました。


## 苦労した点

### (1) Nuxt.jsでの状態管理

SPAの開発において、状態管理で苦労することがありました。特に「ログイン状態の保持」で課題を感じました。当アプリケーションでは、FirebaseとVuexを組み合わせてログイン状態を管理しています。具体的には、Firebaseでユーザー認証を行い、その状態をVuexで管理しています。<br>

しかし、Vuexはページのリロード時に状態がリセットされてしまうため、そのままではページのリロードが行われた際にログイン状態を維持することができませんでした。<br>

そこで、Nuxt.jsのプラグイン機能を用いて、この問題に対処しました。具体的には「ページのリロード時にFirebaseでログイン状態を再確認し、その結果をもとにデータベースからユーザー情報を取得し、ログイン状態とユーザー情報をVuexに保存する」という処理をプラグイン内で実装しました。<br>

このようなアプローチによって、ページのリロード後もログイン状態を維持することができるようになりました。

### (2) レコメンド機能を実装する際の複雑なクエリ

「自分と同じ大学を志望する人に人気の参考書」を表示するレコメンド機能の実装で、どのようにして条件に合ったデータを取得するかに頭を悩ませました。<br>

具体的な条件としては、「〈自分の志望大学と同じ大学を第一志望とする人〉がお気に入りにした〈参考書〉を、〈お気に入り登録数が多い順〉で〈10件〉取得する」というものでした。<br>

上記の条件に合う形でデータを取得するには苦労しましたが、MySQLのコンソールで実際にクエリを発行し、それをRailsのクエリに落とし込むなどして、試行錯誤の末に希望通りの機能を実装することができました。

### (3) 通知の種類に応じたメッセージの使い分け

通知機能の開発において、多様な通知内容に対応するメッセージの生成が一つの大きな課題でした。<br>

通知対象が「レビュー、質問、返信、科目別質問、科目別質問への返信、アンケート」など多岐にわたり、加えて通知の種類も「お気に入り」「返信」「アンケートへの回答」と多数存在するため、それぞれに適した通知メッセージを表示する必要性がありました。<br>

この問題に対応するために、Notificationモデルに「action_type」と「action_to」という二つのカラムを導入しました。この「action_type」は通知の種類（例：お気に入り、返信など）を、一方で「action_to」は通知対象（例：レビュー、質問など）を指定する役割を果たします。<br>

上記のような対応をしたことで、各シナリオに適応した通知メッセージを生成できるようになりました。



## 機能一覧/詳細

### ユーザー機能
- ユーザー新規登録/ユーザー編集/ユーザー削除
- ゲストログイン
- Firebaseを利用したログイン認証
- マイページ・他ユーザーの詳細ページ(投稿の一覧やアクティビティなどを表示)
- ユーザーメモ

### 参考書機能
- 参考書の登録/編集/削除
- Google Books APIを利用した参考書の登録
- 参考書一覧/参考書詳細
- 参考書の並び替え(新着順/投稿順/評価が高い順/レビューが多い順/お気に入り登録数が多い順)
- 参考書の科目による絞り込み<br>
  **＋並べかえと絞り込みを同時に行うことも可能**
- 参考書のお気に入り
- 参考書の閲覧履歴

### レビュー機能
- レビューの投稿/編集/削除
- レビュー一覧/レビュー詳細
- レビューのいいね
- レビューの閲覧履歴

### 質問機能
- 参考書に対する質問の投稿/編集/削除
- 科目別質問の投稿/編集/削除   *科目全体に対する質問
- 質問・科目別質問への画像の添付
- 質問・科目別質問の一覧/詳細
- 質問・科目別質問の並び替え(新着順/投稿順/いいねが多い順/返信が多い順)
- 質問・科目別質問の科目による絞り込み<br>
  **＋並べかえと絞り込みを同時に行うことも可能**
- 質問・科目別質問のいいね
- 質問・科目別質問の閲覧履歴

### 返信機能
- 質問・科目別質問への返信の投稿/編集/削除
- 返信への画像の添付
- 返信の一覧/詳細
- 返信のいいね
- 返信の閲覧履歴

### アンケート機能
- アンケートの作成/削除/回答締め切り
- アンケートへの画像の添付
- アンケートの一覧/詳細
- アンケートの並び替え(新着順/投稿順/いいねが多い順/回答が多い順)
- アンケートの科目による絞り込み<br>
  **＋並べかえと絞り込みを同時に行うことも可能**
- 回答締め切り済みのアンケートの非表示
- アンケートの回答/回答変更/回答取り消し
- アンケートのいいね
- アンケートの閲覧履歴

### 検索機能
- 参考書の検索
- 質問の検索
- 科目別質問の検索

### 通知機能
- 自分の投稿（レビュー・質問・返信・アンケート）へのいいね通知
- 自分の質問への返信通知
- [自分が返信を投稿している質問]に返信が投稿されたときの通知
- 自分のアンケートへの回答通知


### レコメンド機能
- 新着レビュー
- 人気の参考書
- [自分と同じ大学を志望する人]に人気の参考書

### その他機能
- 各投稿の詳細ページに「前の投稿」「次の投稿」に移動するためのナビゲーションボタンの設置
- トップページのみ特別なヘッダーを表示


## インフラ構成図

![インフラ構成図３ drawio](https://github.com/yoshi08-21/study-share/assets/88389469/17d2a80f-5d49-46d7-90e7-9148cf6a2f86)

## ER図

![ER図](https://github.com/yoshi08-21/study-share/assets/88389469/a6d51d09-c1ab-490d-8a96-f51e56809716)

## 改善点
- レスポンシブデザインに対応させる

## 今後追加したい機能
- 勉強した時間などの管理
- Jestによるユニットテストの追加
- 投稿のモチベーションとなるような機能の追加（投稿数やいいね数に応じて称号やバッジを獲得できる など）

## 学んだことをQiitaでアウトプットしています
お時間がありましたら、ご覧いただけると幸いです!<br>
https://qiita.com/Yst-T



