(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{819:function(e,n,r){"use strict";r.r(n);var t=r(265),o=r(566),c=r(162),l=(r(35),r(26)),d=(r(82),r(33),r(215)),f=r(44),m={middleware:r(363).default,data:function(){var e=this;return{name:"",email:"",password:"",passwordConfirmation:"",uid:"",nameRules:[function(e){return!!e||"ユーザー名を入力してください"},function(e){return(e||"").length<=30||"最大入力文字数は30文字です"}],emailRules:[function(e){return!!e||"メールアドレスを入力してください"},function(e){return(e||"").length<=250||"最大入力文字数は250文字です"},function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"正しい形式のメールアドレスを入力してください"}],passwordRules:[function(e){return!!e||"パスワードを入力してください"},function(e){return(e||"").length>=6||"パスワードは6文字以上で設定してください"},function(e){return(e||"").length<=30||"最大入力文字数は30文字です"}],passwordConfirmationRules:[function(e){return!!e||"パスワード確認を入力してください"},function(n){return n===e.password||"パスワードが一致していません"},function(e){return(e||"").length<=30||"最大入力文字数は30文字です"}],showPassword:!1,showPasswordConfirmation:!1,snackbar:!1,snackbarColor:"primary",flashMessage:"テストメッセージ"}},methods:{signUp:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var r,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=Object(d.c)(e.$firebase),n.next=4,Object(d.a)(r,e.email,e.password);case 4:t=n.sent,console.log(t),console.log(t.user.uid),e.userSetup(t.user.uid),e.$router.push({path:"/",query:{message:"会員登録が完了しました。"}}),n.next=17;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0),e.snackbar=!0,e.snackbarColor="red accent-2",e.flashMessage="入力フォームを確認してください";case 17:case"end":return n.stop()}}),n,null,[[0,11]])})))()},userSetup:function(e){var n=this;return Object(l.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,f.a.post("/users",{name:n.name,email:n.email,uid:e});case 3:t=r.sent,n.$store.dispatch("auth/setCurrentUser",t.data),n.$store.dispatch("auth/setLoginState",!0),console.log(t.data),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()}}},w=r(69),component=Object(w.a)(m,(function(){var e=this,n=e._self._c;return n("div",[n("h2",{staticStyle:{"text-align":"center"}},[e._v("ユーザー登録")]),e._v(" "),n("br"),e._v(" "),n(c.a,{attrs:{rules:e.nameRules,label:"ユーザー名"},model:{value:e.name,callback:function(n){e.name=n},expression:"name"}}),e._v(" "),n(c.a,{attrs:{rules:e.emailRules,label:"メールアドレス"},model:{value:e.email,callback:function(n){e.email=n},expression:"email"}}),e._v(" "),n(c.a,{attrs:{rules:e.passwordRules,label:"パスワード","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password"},on:{"click:append":function(n){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(n){e.password=n},expression:"password"}}),e._v(" "),n(c.a,{attrs:{rules:e.passwordConfirmationRules,label:"パスワード確認","append-icon":e.showPasswordConfirmation?"mdi-eye":"mdi-eye-off",type:e.showPasswordConfirmation?"text":"password"},on:{"click:append":function(n){e.showPasswordConfirmation=!e.showPasswordConfirmation}},model:{value:e.passwordConfirmation,callback:function(n){e.passwordConfirmation=n},expression:"passwordConfirmation"}}),e._v(" "),n("br"),e._v(" "),n(t.a,{attrs:{block:""},on:{click:e.signUp}},[e._v("登録")]),e._v(" "),n("br"),e._v(" "),n(o.a,{attrs:{timeout:3e3,color:e.snackbarColor},model:{value:e.snackbar,callback:function(n){e.snackbar=n},expression:"snackbar"}},[e._v(e._s(e.flashMessage))])],1)}),[],!1,null,null,null);n.default=component.exports}}]);