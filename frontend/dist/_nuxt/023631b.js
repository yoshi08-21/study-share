(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{574:function(t,e,n){"use strict";e.a={methods:{goToUser:function(t){this.currentUser&&this.currentUser.id===t.id?this.$router.push({path:"/mypage"}):this.$router.push({path:"/users/".concat(t.id)})}}}},576:function(t,e,n){"use strict";e.a={data:function(){return{snackbar:!1,snackbarColor:"primary",flashMessage:""}},mounted:function(){this.$route.query.message&&(this.snackbarColor="primary",this.snackbar=!0,this.flashMessage=this.$route.query.message)}}},578:function(t,e,n){"use strict";var r=n(100),o=n(4);e.a=o.a.extend({name:"rippleable",directives:{ripple:r.a},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(data.staticClass="v-input--selection-controls__ripple",data.directives=data.directives||[],data.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",data)):null}}})},579:function(t,e,n){n(9)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},580:function(t,e,n){var content=n(581);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("7f6d4ad6",content,!0,{sourceMap:!1})},581:function(t,e,n){var r=n(17)(!1);r.push([t.i,".theme--light.v-pagination .v-pagination__item{background:#fff;color:rgba(0,0,0,.87)}.theme--light.v-pagination .v-pagination__item--active{color:#fff}.theme--light.v-pagination .v-pagination__navigation{background:#fff}.theme--dark.v-pagination .v-pagination__item{background:#1e1e1e;color:#fff}.theme--dark.v-pagination .v-pagination__item--active{color:#fff}.theme--dark.v-pagination .v-pagination__navigation{background:#1e1e1e}.v-pagination{align-items:center;display:inline-flex;list-style-type:none;justify-content:center;margin:0;max-width:100%;width:100%}.v-pagination.v-pagination{padding-left:0}.v-pagination>li{align-items:center;display:flex}.v-pagination--circle .v-pagination__item,.v-pagination--circle .v-pagination__more,.v-pagination--circle .v-pagination__navigation{border-radius:50%}.v-pagination--disabled{pointer-events:none;opacity:.6}.v-pagination__item{background:transparent;border-radius:4px;font-size:1rem;height:34px;margin:.3rem;min-width:34px;padding:0 5px;text-decoration:none;transition:.3s cubic-bezier(0,0,.2,1);width:auto;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.v-pagination__item--active{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.v-pagination__navigation{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);border-radius:4px;display:inline-flex;justify-content:center;align-items:center;text-decoration:none;height:32px;width:32px;margin:.3rem 10px}.v-pagination__navigation .v-icon{transition:.2s cubic-bezier(.4,0,.6,1);vertical-align:middle}.v-pagination__navigation--disabled{opacity:.6;pointer-events:none}.v-pagination__more{margin:.3rem;display:inline-flex;align-items:flex-end;justify-content:center;height:32px;width:32px}",""]),t.exports=r},582:function(t,e,n){"use strict";e.a={methods:{checkFileSize:function(t){console.log(t);t&&t.size>3145728?(this.errorMessage="添付できるファイルは3MBまでです",this.error=!0):(this.errorMessage="",this.error=!1)}}}},596:function(t,e,n){"use strict";n(11),n(13),n(14),n(15),n(12),n(16);var r=n(60),o=n(2),l=(n(22),n(579),n(32),n(48),n(6),n(47),n(76),n(580),n(89)),c=n(121),v=n(24),h=n(267),d=n(20),f=n(7);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.a=Object(f.a)(v.a,Object(h.a)({onVisible:["init"]}),d.a).extend({name:"v-pagination",directives:{Resize:c.a},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1==0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];var e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);var n=e%2==0?1:0,o=Math.floor(e/2),l=this.length-o+1+n;if(this.value>o&&this.value<l){var c=this.length,v=this.value-o+2,h=this.value+o-2-n,d=h+1===c-1?h+1:"...";return[1,v-1==2?2:"..."].concat(Object(r.a)(this.range(v,h)),[d,this.length])}if(this.value===o){var f=this.value+o-1-n;return[].concat(Object(r.a)(this.range(1,f)),["...",this.length])}if(this.value===l){var _=this.value-o+1;return[1,"..."].concat(Object(r.a)(this.range(_,this.length)))}return[].concat(Object(r.a)(this.range(1,o)),["..."],Object(r.a)(this.range(l,this.length)))}},watch:{value:function(){this.init()}},beforeMount:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){for(var n=[],i=t=t>0?t:1;i<=e;i++)n.push(i);return n},genIcon:function(t,e,n,r,label){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":n},attrs:{disabled:n,type:"button","aria-label":label},on:n?{}:{click:r}},[t(l.a,[e])])])},genItem:function(t,i){var e=this,n=i===this.value&&(this.color||"primary"),r=i===this.value,o=r?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(n,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":i===this.value},attrs:{type:"button","aria-current":r,"aria-label":this.$vuetify.lang.t(o,i)},on:{click:function(){return e.$emit("input",i)}}}),[i.toString()])},genItems:function(t){var e=this;return this.items.map((function(i,n){return t("li",{key:n},[isNaN(Number(i))?t("span",{class:"v-pagination__more"},[i.toString()]):e.genItem(t,i)])}))},genList:function(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},603:function(t,e,n){"use strict";var r=n(602),o=n(254),l=n(255),c=n(111),v=n(565),h=n(164),d=n(209),f=n(564),_=(n(35),n(119)),m=n(574),y={props:{surveys:[],hideClosedSurvey:Boolean},mixins:[_.a,m.a]},x=n(69),component=Object(x.a)(y,(function(){var t=this,e=t._self._c;return e("div",t._l(t.surveys,(function(n,_){return e(f.a,{key:"survey_"+_,staticClass:"justify-center",attrs:{"mb-5":"","data-cy":"each-surveys"}},[!1===t.hideClosedSurvey||!0===t.hideClosedSurvey&&!1===n.status?[e(v.a,{attrs:{cols:"10"}},[e(l.a,{attrs:{elevation:"2",height:"220"}},[e(f.a,[e(v.a,{staticClass:"mt-n2",attrs:{cols:"12"}},[e(c.d,[e(f.a,[e(v.a,{attrs:{cols:"8"}},[e("nuxt-link",{attrs:{to:"/surveys/".concat(n.id)}},[t._v(t._s(n.title))])],1),t._v(" "),e(v.a,{attrs:{cols:"3"}},[!1===n.status?[e(r.a,{attrs:{type:"success",dense:"",text:"",border:"left"}},[t._v("\n                        回答受付中\n                      ")])]:[e(r.a,{attrs:{type:"error",dense:"",text:"",border:"left"}},[t._v("\n                        締め切り済み\n                      ")])]],2)],1)],1),t._v(" "),e(c.b,[t._v("\n                "+t._s(t.$truncate(n.content,60))+"\n              ")]),t._v(" "),e(c.c,[e("h3",[t._v("ジャンル: "+t._s(n.genre))])]),t._v(" "),e(c.a,{staticStyle:{"margin-top":"-10px"}},[e(f.a,{staticClass:"d-flex align-center justify-center"},[e(v.a,{attrs:{cols:"3"}},[e("div",{staticStyle:{padding:"10px",cursor:"pointer"},on:{click:function(e){return t.goToUser(n.user)}}},[e(o.a,[e(d.a,{attrs:{src:n.user.image}})],1),t._v(" "),e("span",{staticStyle:{"text-decoration":"underline"}},[t._v(t._s(t.$truncate(n.user.name,9)))])],1)]),t._v(" "),e(v.a,{attrs:{cols:"3"}},[e(h.a,[t._v("mdi-comment-text-multiple")]),t._v("\n                    回答数:  "+t._s(n.survey_answers_count)+"件\n                  ")],1),t._v(" "),e(v.a,{attrs:{cols:"3"}},[e(h.a,[t._v("mdi-heart-multiple")]),t._v("\n                    いいね! ("+t._s(n.favorite_surveys_count)+")\n                  ")],1),t._v(" "),e(v.a,{attrs:{cols:"3"}},[e(h.a,[t._v("mdi-calendar-clock")]),t._v("\n                    "+t._s(n.created_at)+"\n                  ")],1)],1),t._v(" "),e("p")],1)],1)],1)],1)],1)]:t._e()],2)})),1)}),[],!1,null,null,null);e.a=component.exports},617:function(t,e,n){var content=n(618);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("2e2bc7da",content,!0,{sourceMap:!1})},618:function(t,e,n){var r=n(17)(!1);r.push([t.i,'.v-input--selection-controls{margin-top:16px;padding-top:4px}.v-input--selection-controls>.v-input__append-outer,.v-input--selection-controls>.v-input__prepend-outer{margin-top:0;margin-bottom:0}.v-input--selection-controls:not(.v-input--hide-details)>.v-input__slot{margin-bottom:12px}.v-input--selection-controls .v-input__slot,.v-input--selection-controls .v-radio{cursor:pointer}.v-input--selection-controls .v-input__slot>.v-label,.v-input--selection-controls .v-radio>.v-label{align-items:center;display:inline-flex;flex:1 1 auto;height:auto}.v-input--selection-controls__input{color:inherit;display:inline-flex;flex:0 0 auto;height:24px;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1);transition-property:transform;width:24px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.v-input--selection-controls__input .v-icon{width:100%}.v-application--is-ltr .v-input--selection-controls__input{margin-right:8px}.v-application--is-rtl .v-input--selection-controls__input{margin-left:8px}.v-input--selection-controls__input input[role=checkbox],.v-input--selection-controls__input input[role=radio],.v-input--selection-controls__input input[role=switch]{position:absolute;opacity:0;width:100%;height:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.v-input--selection-controls__input+.v-label{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.v-input--selection-controls__ripple{border-radius:50%;cursor:pointer;height:34px;position:absolute;transition:inherit;width:34px;left:-12px;top:calc(50% - 24px);margin:7px}.v-input--selection-controls__ripple:before{border-radius:inherit;bottom:0;content:"";position:absolute;opacity:.2;left:0;right:0;top:0;transform-origin:center center;transform:scale(.2);transition:inherit}.v-input--selection-controls__ripple>.v-ripple__container{transform:scale(1.2)}.v-input--selection-controls.v-input--dense .v-input--selection-controls__ripple{width:28px;height:28px;left:-9px}.v-input--selection-controls.v-input--dense:not(.v-input--switch) .v-input--selection-controls__ripple{top:calc(50% - 21px)}.v-input--selection-controls.v-input{flex:0 1 auto}.v-input--selection-controls.v-input--is-focused .v-input--selection-controls__ripple:before,.v-input--selection-controls .v-radio--is-focused .v-input--selection-controls__ripple:before{background:currentColor;transform:scale(1.2)}.v-input--selection-controls.v-input--is-disabled:not(.v-input--indeterminate) .v-icon{color:inherit}.v-input--selection-controls.v-input--is-disabled:not(.v-input--is-readonly){pointer-events:none}.v-input--selection-controls__input:hover .v-input--selection-controls__ripple:before{background:currentColor;transform:scale(1.2);transition:none}',""]),t.exports=r},619:function(t,e,n){"use strict";n.d(e,"b",(function(){return v}));n(6),n(47),n(14);var r=n(94),o=n(578),l=n(272),c=n(7);function v(t){t.preventDefault()}e.a=Object(c.a)(r.a,o.a,l.a).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,input=this.internalValue;return this.isMultiple?!!Array.isArray(input)&&input.some((function(n){return t.valueComparator(n,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,input):Boolean(input):this.valueComparator(input,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var label=r.a.options.methods.genLabel.call(this);return label?(label.data.on={click:v},label):label},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:v},ref:"input"})},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,input=this.internalValue;if(this.isMultiple){Array.isArray(input)||(input=[]);var n=input.length;(input=input.filter((function(n){return!t.valueComparator(n,e)}))).length===n&&input.push(e)}else input=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(input,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(input,e)?null:e:!input;this.validate(!0,input),this.internalValue=input,this.hasColor=input}},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onKeydown:function(t){}}})},790:function(t,e,n){var content=n(791);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("beda1088",content,!0,{sourceMap:!1})},791:function(t,e,n){var r=n(17)(!1);r.push([t.i,".theme--light.v-input--switch .v-input--switch__thumb{color:#fff}.theme--light.v-input--switch .v-input--switch__track{color:rgba(0,0,0,.38)}.theme--light.v-input--switch.v-input--is-disabled:not(.v-input--is-dirty) .v-input--switch__thumb{color:#fafafa!important}.theme--light.v-input--switch.v-input--is-disabled:not(.v-input--is-dirty) .v-input--switch__track{color:rgba(0,0,0,.12)!important}.theme--dark.v-input--switch .v-input--switch__thumb{color:#bdbdbd}.theme--dark.v-input--switch .v-input--switch__track{color:hsla(0,0%,100%,.3)}.theme--dark.v-input--switch.v-input--is-disabled:not(.v-input--is-dirty) .v-input--switch__thumb{color:#424242!important}.theme--dark.v-input--switch.v-input--is-disabled:not(.v-input--is-dirty) .v-input--switch__track{color:hsla(0,0%,100%,.1)!important}.v-input--switch__thumb,.v-input--switch__track{background-color:currentColor;pointer-events:none;transition:inherit}.v-input--switch__track{border-radius:8px;width:36px;height:14px;left:2px;position:absolute;opacity:.6;right:2px;top:calc(50% - 7px)}.v-input--switch__thumb{border-radius:50%;top:calc(50% - 10px);height:20px;position:relative;width:20px;display:flex;justify-content:center;align-items:center;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-input--switch .v-input--selection-controls__input{width:38px;transition:opacity .3s cubic-bezier(.25,.8,.5,1)}.v-input--switch .v-input--selection-controls__ripple{top:calc(50% - 24px)}.v-input--switch.v-input--dense .v-input--switch__thumb{width:18px;height:18px}.v-input--switch.v-input--dense .v-input--switch__track{height:12px;width:32px}.v-input--switch.v-input--dense.v-input--switch--inset .v-input--switch__track{height:22px;width:44px;top:calc(50% - 12px);left:-3px}.v-input--switch.v-input--dense .v-input--selection-controls__ripple{top:calc(50% - 22px)}.v-input--switch.v-input--is-dirty.v-input--is-disabled .v-input--selection-controls__input{opacity:.6}.v-application--is-ltr .v-input--switch .v-input--selection-controls__ripple{left:-14px}.v-application--is-ltr .v-input--switch.v-input--dense .v-input--selection-controls__ripple{left:-12px}.v-application--is-ltr .v-input--switch.v-input--is-dirty .v-input--selection-controls__ripple,.v-application--is-ltr .v-input--switch.v-input--is-dirty .v-input--switch__thumb{transform:translate(20px)}.v-application--is-rtl .v-input--switch .v-input--selection-controls__ripple{right:-14px}.v-application--is-rtl .v-input--switch.v-input--dense .v-input--selection-controls__ripple{right:-12px}.v-application--is-rtl .v-input--switch.v-input--is-dirty .v-input--selection-controls__ripple,.v-application--is-rtl .v-input--switch.v-input--is-dirty .v-input--switch__thumb{transform:translate(-20px)}.v-input--switch:not(.v-input--switch--flat):not(.v-input--switch--inset) .v-input--switch__thumb{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.v-input--switch--inset .v-input--selection-controls__input,.v-input--switch--inset .v-input--switch__track{width:48px}.v-input--switch--inset .v-input--switch__track{border-radius:14px;height:28px;left:-4px;opacity:.32;top:calc(50% - 14px)}.v-application--is-ltr .v-input--switch--inset .v-input--selection-controls__ripple,.v-application--is-ltr .v-input--switch--inset .v-input--switch__thumb{transform:translate(0)!important}.v-application--is-rtl .v-input--switch--inset .v-input--selection-controls__ripple,.v-application--is-rtl .v-input--switch--inset .v-input--switch__thumb{transform:translate(-6px)!important}.v-application--is-ltr .v-input--switch--inset.v-input--is-dirty .v-input--selection-controls__ripple,.v-application--is-ltr .v-input--switch--inset.v-input--is-dirty .v-input--switch__thumb{transform:translate(20px)!important}.v-application--is-rtl .v-input--switch--inset.v-input--is-dirty .v-input--selection-controls__ripple,.v-application--is-rtl .v-input--switch--inset.v-input--is-dirty .v-input--switch__thumb{transform:translate(-26px)!important}",""]),t.exports=r},811:function(t,e,n){"use strict";n.r(e);var r=n(265),o=n(255),l=n(111),c=n(565),v=n(262),h=n(596),d=n(564),f=n(832),_=n(566),m=(n(11),n(13),n(14),n(6),n(15),n(12),n(16),n(95)),y=n(2),x=(n(174),n(175),n(617),n(790),n(619)),w=n(94),k=n(271),S=n(146),O=n(245),C=n(1),j=["title"];function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(Object(n),!0).forEach((function(e){Object(y.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var R=x.a.extend({name:"v-switch",directives:{Touch:k.a},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return D(D({},w.a.options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,e=(t.title,Object(m.a)(t,j));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",D(D({},this.attrs),e)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",D({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",D({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(S.c,{},[!1===this.loading?null:this.$slots.progress||this.$createElement(O.a,{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===C.t.left&&this.isActive||t.keyCode===C.t.right&&!this.isActive)&&this.onChange()}}}),A=n(60),M=n(26),P=(n(55),n(360),n(82),n(602)),V=n(801),F=n(625),z=n(162),B=n(567),L=n(213),E=n(582),I={components:{VTextField:z.a,SubmitButton:L.default},mixins:[E.a],data:function(){return{titleRules:[function(t){return!!t||"タイトルを入力してください"},function(t){return(t||"").length<=50||"最大入力文字数は50文字です"}],contentRules:[function(t){return!!t||"本文を入力してください"},function(t){return(t||"").length<=1e3||"最大入力文字数は1000文字です"}],requiredOptionRules:[function(t){return!!t||"選択肢を入力してください"},function(t){return(t||"").length<=50||"最大入力文字数は50文字です"}],optionRules:[function(t){return(t||"").length<=50||"最大入力文字数は50文字です"}],genres:["国語","社会","数学","英語","理科","参考書","進路・大学","その他"],selectedGenre:"",title:"",content:"",option1:"",option2:"",option3:"",option4:"",confirmationDialog:!1,selectedFile:null,errorMessage:"",error:!1}},methods:{submitForm:function(){var t={title:this.title,content:this.content,genre:this.selectedGenre,option1:this.option1,option2:this.option2,image:this.selectedFile};""!==this.option3&&(t.option3=this.option3),""!==this.option4&&(t.option4=this.option4),this.$emit("submitSurvey",t)}}},G=n(69),component=Object(G.a)(I,(function(){var t=this,e=t._self._c;return e("div",[e("br"),e("br"),t._v(" "),e(F.a,[e(c.a,{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[e(f.a,{attrs:{items:t.genres,label:"ジャンル(必須)",outlined:"","data-cy":"select-genre-button"},model:{value:t.selectedGenre,callback:function(e){t.selectedGenre=e},expression:"selectedGenre"}})],1),t._v(" "),e(z.a,{attrs:{counter:"",label:"タイトル（必須）",rules:t.titleRules,"data-cy":"create-title-field"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),e(B.a,{attrs:{counter:"",label:"本文（必須）",rules:t.contentRules,"data-cy":"create-content-field"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),e(z.a,{attrs:{counter:"",label:"選択肢1（必須）",rules:t.requiredOptionRules,"data-cy":"create-option1-field"},model:{value:t.option1,callback:function(e){t.option1=e},expression:"option1"}}),t._v(" "),e(z.a,{attrs:{counter:"",label:"選択肢2（必須）",rules:t.requiredOptionRules,"data-cy":"create-option2-field"},model:{value:t.option2,callback:function(e){t.option2=e},expression:"option2"}}),t._v(" "),e(z.a,{attrs:{counter:"",label:"選択肢3（任意）",rules:t.optionRules,"data-cy":"create-option3-field"},model:{value:t.option3,callback:function(e){t.option3=e},expression:"option3"}}),t._v(" "),e(z.a,{attrs:{counter:"",label:"選択肢4（任意）",rules:t.optionRules,"data-cy":"create-option4-field"},model:{value:t.option4,callback:function(e){t.option4=e},expression:"option4"}}),t._v(" "),e("br"),t._v("\n    *画像を添付できます(「.jpeg」「.jpg」「.png」のみ添付できます)\n    "),e("br"),t._v("\n    *添付できる画像のファイルサイズは3MBまでです\n    "),e("br"),e("br"),t._v(" "),e(V.a,{staticStyle:{width:"500px"},attrs:{accept:"image/jpeg, image/png","show-size":"","truncate-length":"15",outlined:"",label:"ファイルを選択","prepend-icon":"mdi-image-plus"},on:{change:t.checkFileSize},model:{value:t.selectedFile,callback:function(e){t.selectedFile=e},expression:"selectedFile"}}),t._v(" "),t.errorMessage?[e(P.a,{attrs:{type:"error",dense:"",text:"",border:"left"}},[t._v("\n        "+t._s(t.errorMessage)+"\n      ")])]:t._e(),t._v(" "),e("p",[t._v("＊一度作成したアンケートは編集できません。アンケートの内容を変更したい場合、一度アンケートを削除したあとに、もう一度アンケートを作成してください。")]),t._v(" "),e("submit-button",{attrs:{error:t.error,buttonTitle:"確認画面を表示する"},on:{submitForm:function(e){t.confirmationDialog=!0},closeDialog:function(e){return t.$emit("closeDialog")}}})],2),t._v(" "),e(v.a,{model:{value:t.confirmationDialog,callback:function(e){t.confirmationDialog=e},expression:"confirmationDialog"}},[e(o.a,{attrs:{"data-cy":"survey-confirmation-dialog"}},[e(l.d,{staticStyle:{"justify-content":"center"}},[e("h2",[t._v("内容確認")])]),t._v(" "),e("br"),t._v(" "),e(l.c,[e("br"),e("h3",[t._v("選択されたジャンル: "+t._s(t.selectedGenre))]),e("br"),t._v(" "),e(z.a,{attrs:{counter:"",label:"タイトル（必須）",rules:t.titleRules,readonly:"",solo:"","data-cy":"confirmation-title-field"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),e(B.a,{attrs:{counter:"",label:"本文（必須）",rules:t.contentRules,readonly:"",solo:"","data-cy":"confirmation-content-field"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),e(z.a,{attrs:{counter:"",label:"選択肢1（必須）",rules:t.requiredOptionRules,readonly:"",solo:"","data-cy":"confirmation-option1-field"},model:{value:t.option1,callback:function(e){t.option1=e},expression:"option1"}}),t._v(" "),e(z.a,{attrs:{counter:"",label:"選択肢2（必須）",rules:t.requiredOptionRules,readonly:"",solo:"","data-cy":"confirmation-option2-field"},model:{value:t.option2,callback:function(e){t.option2=e},expression:"option2"}}),t._v(" "),e(z.a,{attrs:{counter:"",label:"選択肢3（任意）",rules:t.optionRules,readonly:"",solo:"","data-cy":"confirmation-option3-field"},model:{value:t.option3,callback:function(e){t.option3=e},expression:"option3"}}),t._v(" "),e(z.a,{attrs:{counter:"",label:"選択肢4（任意）",rules:t.optionRules,readonly:"",solo:"","data-cy":"confirmation-option4-field"},model:{value:t.option4,callback:function(e){t.option4=e},expression:"option4"}}),t._v(" "),e("br"),t._v(" "),e(V.a,{staticStyle:{width:"500px"},attrs:{accept:"image/jpeg, image/png","show-size":"","truncate-length":"15",outlined:"",label:"ファイルを選択","prepend-icon":"mdi-image-plus",disabled:""},model:{value:t.selectedFile,callback:function(e){t.selectedFile=e},expression:"selectedFile"}})],1),t._v(" "),e("p",[t._v("＊一度作成したアンケートは編集できません。アンケートの内容を変更したい場合、一度アンケートを削除したあとに、もう一度アンケートを作成してください。")]),t._v(" "),e("submit-button",{attrs:{error:t.error,buttonTitle:"作成する"},on:{submitForm:t.submitForm,closeDialog:function(e){t.confirmationDialog=!1}}})],1)],1)],1)}),[],!1,null,null,null),N=component.exports;installComponents(component,{SubmitButton:n(213).default});var T=n(603),U=n(119),H=n(576),K=n(44),W={components:{SurveyForm:N,EachSurveys:T.a},mixins:[U.a,H.a],asyncData:function(){return Object(M.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.a.get("/surveys");case 2:return e=t.sent,console.log(e.data),t.abrupt("return",{surveys:e.data});case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{dialog:!1,sortsurveysOptions:["新着順","投稿順","回答が多い順","いいね!が多い順"],surveyGenreOptions:["国語","社会","数学","英語","理科","参考書","進路・大学","その他"],selectedSortOption:"",selectedSurveyGenre:"",page:1,perPage:10,hideClosedSurvey:!1}},computed:{genreFilteredSurveys:function(){return this.filterSurveys()},sortedSurveys:function(){return this.sortSurveys(this.genreFilteredSurveys)},activeSurveysBasedOnHideClosed:function(){return!0===this.hideClosedSurvey?this.sortedSurveys.filter((function(t){return!1===t.status})):this.sortedSurveys},surveysChunk:function(){var t=this.activeSurveysBasedOnHideClosed,e=(this.page-1)*this.perPage,n=e+this.perPage;return t.slice(e,n)},totalPages:function(){return Math.ceil(this.activeSurveysBasedOnHideClosed.length/this.perPage)}},methods:{submitSurvey:function(data){var t=this;return Object(M.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("current_user_id",t.currentUser.id),n.append("survey[genre]",data.genre),n.append("survey[title]",data.title),n.append("survey[content]",data.content),n.append("survey[option1]",data.option1),n.append("survey[option2]",data.option2),data.option3&&n.append("survey[option3]",data.option3),data.option4&&n.append("survey[option4]",data.option4),n.append("survey[status]",0),data.image&&n.append("survey[image]",data.image),e.prev=11,e.next=14,K.a.post("/surveys",n);case 14:r=e.sent,console.log(r.data),t.$router.push({path:"/surveys/".concat(r.data.id),query:{message:"アンケートを作成しました"}}),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(11),console.log(e.t0),t.snackbarColor="red accent-2",t.snackbar=!0,t.flashMessage="アンケートを作成できませんでした";case 25:t.dialog=!1;case 26:case"end":return e.stop()}}),e,null,[[11,19]])})))()},openDialog:function(){this.currentUser?this.dialog=!0:this.$router.push({path:"/auth/login",query:{message:"ログインが必要です"}})},filterSurveys:function(){var t=this;if(this.selectedSurveyGenre){var e=this.surveys.filter((function(e){return e.genre===t.selectedSurveyGenre}));return this.page=1,e}return this.surveys},sortSurveys:function(t){return"新着順"===this.selectedSortOption?Object(A.a)(t).sort((function(a,b){return new Date(b.created_at)-new Date(a.created_at)})):"投稿順"===this.selectedSortOption?Object(A.a)(t).sort((function(a,b){return new Date(a.created_at)-new Date(b.created_at)})):"回答が多い順"===this.selectedSortOption?Object(A.a)(t).sort((function(a,b){return b.survey_answers_count-a.survey_answers_count})):"いいね!が多い順"===this.selectedSortOption?Object(A.a)(t).sort((function(a,b){return b.favorite_surveys_count-a.favorite_surveys_count})):Object(A.a)(t).sort((function(a,b){return new Date(a.created_at)-new Date(b.created_at)}))}}},J=Object(G.a)(W,(function(){var t=this,e=t._self._c;return e("div",[e("br"),e("br"),t._v(" "),e(d.a,[e(c.a,{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[e(o.a,{attrs:{width:"85%"}},[e(d.a,[e(c.a,{staticClass:"d-flex justify-center"},[e(l.d,[t._v("\n              ソート機能\n            ")])],1)],1),t._v(" "),e(l.a,[e(d.a,[e(c.a,{attrs:{cols:"6"}},[e(f.a,{attrs:{items:t.sortsurveysOptions,label:"並び替え",outlined:"",chips:"",clearable:"","data-cy":"sort-surveys-select"},model:{value:t.selectedSortOption,callback:function(e){t.selectedSortOption=e},expression:"selectedSortOption"}})],1),t._v(" "),e(c.a,{attrs:{cols:"6"}},[e(f.a,{attrs:{items:t.surveyGenreOptions,label:"ジャンルで絞り込み",outlined:"",chips:"",clearable:"","data-cy":"filter-surveys-select"},model:{value:t.selectedSurveyGenre,callback:function(e){t.selectedSurveyGenre=e},expression:"selectedSurveyGenre"}})],1)],1)],1)],1)],1)],1),t._v(" "),e("br"),e("br"),t._v(" "),e(d.a,[e(c.a,{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[e(o.a,{staticClass:"d-flex align-center",attrs:{width:"85%",height:"120"}},[e(l.c,[e(r.a,{attrs:{color:"primary",rounded:"","x-large":"",block:""},on:{click:t.openDialog}},[t._v("\n          新規アンケートを作成する\n        ")])],1)],1)],1)],1),t._v(" "),e("br"),e("br"),t._v(" "),e(d.a,[e(c.a,{staticClass:"d-flex justify-center",attrs:{cols:"6"}},[e(o.a,{staticStyle:{padding:"0 30px"},attrs:{width:"350",elevation:"5"}},[e(R,{attrs:{label:"回答受付中のアンケートのみ表示",color:"indigo","data-cy":"hide-closed-surveys-switch"},on:{click:function(e){t.page=1}},model:{value:t.hideClosedSurvey,callback:function(e){t.hideClosedSurvey=e},expression:"hideClosedSurvey"}})],1)],1)],1),t._v(" "),0==!t.sortedSurveys.length?[e(h.a,{attrs:{length:t.totalPages},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})]:t._e(),t._v(" "),e("br"),t._v(" "),e("each-surveys",{attrs:{surveys:t.surveysChunk,hideClosedSurvey:t.hideClosedSurvey}}),t._v(" "),e("br"),t._v(" "),0==!t.sortedSurveys.length?[e(h.a,{attrs:{length:t.totalPages},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})]:t._e(),t._v(" "),e(v.a,{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(o.a,[e(l.d,{staticStyle:{"justify-content":"center"}},[e("h2",[t._v("新規アンケートを作成する")])]),t._v(" "),e(l.c,[e("survey-form",{on:{submitSurvey:t.submitSurvey,closeDialog:function(e){t.dialog=!1}}})],1)],1)],1),t._v(" "),e("br"),t._v(" "),e(_.a,{attrs:{timeout:3e3,color:t.snackbarColor},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.flashMessage))])],2)}),[],!1,null,null,null);e.default=J.exports}}]);